# Squid egress proxy — open access for OpenClaw container
# Agent needs full web access for search, browsing, and API calls.
# Security is enforced at the agent level (safeBins, guardrails, SOUL.md).

# Port ACLs — standard web ports
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 443
acl Safe_ports port 8080
acl Safe_ports port 8443
acl CONNECT method CONNECT

# Deny non-web ports, allow everything else
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access allow all

# Listener
http_port 3128

# Minimal logging
access_log none
cache_log /var/log/squid/cache.log
cache deny all

# Run as non-root
# (ubuntu/squid image handles this)
